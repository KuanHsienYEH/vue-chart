(function(t){function a(a){for(var e,o,s=a[0],c=a[1],u=a[2],f=0,p=[];f<s.length;f++)o=s[f],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&p.push(n[o][0]),n[o]=0;for(e in c)Object.prototype.hasOwnProperty.call(c,e)&&(t[e]=c[e]);l&&l(a);while(p.length)p.shift()();return i.push.apply(i,u||[]),r()}function r(){for(var t,a=0;a<i.length;a++){for(var r=i[a],e=!0,s=1;s<r.length;s++){var c=r[s];0!==n[c]&&(e=!1)}e&&(i.splice(a--,1),t=o(o.s=r[0]))}return t}var e={},n={app:0},i=[];function o(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=e,o.d=function(t,a,r){o.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:r})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,a){if(1&a&&(t=o(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var e in t)o.d(r,e,function(a){return t[a]}.bind(null,e));return r},o.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(a,"a",a),a},o.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},o.p="/vue-chart/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=a,s=s.slice();for(var u=0;u<s.length;u++)a(s[u]);var l=c;i.push([0,"chunk-vendors"]),r()})({0:function(t,a,r){t.exports=r("56d7")},"56d7":function(t,a,r){"use strict";r.r(a);r("e260"),r("e6cf"),r("cca6"),r("a79d");var e=r("2b0e"),n=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",{attrs:{id:"app"}},[r("PieChart",{staticClass:"pie",attrs:{data:t.rawData}})],1)},i=[],o=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",{staticClass:"piechart-svg-container",attrs:{align:"center"}},[r("div",{ref:"chartContainer",staticClass:"piechart"},[t.showBarChart?r("BarChart",{staticClass:"bar",style:{left:t.barChartPosition.x+"px",top:t.barChartPosition.y+"px"},attrs:{data:t.barChartData}}):t._e()],1),r("div",{staticClass:"btn_wrapper"},t._l(t.data,(function(a,e){return r("button",{key:e,class:t.currentDataset===a?"focus":"",on:{click:function(a){return t.updatePie(e)}}},[t._v(" Dataset "+t._s(e+1)+" ")])})),0)])},s=[],c=(r("07ac"),r("13d5"),r("a434"),r("5698")),u=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("div",{staticClass:"barchart-svg-container",attrs:{align:"center"}},[r("div",{ref:"barChartContainer",staticClass:"barchart"})])},l=[],f=r("3835"),p=(r("d81d"),r("4fad"),{props:{data:Object},data:function(){return{currentData:[]}},mounted:function(){this.fomatData(),this.drawBar(this.currentData)},beforeDestroy:function(){this.clearBar()},methods:{fomatData:function(){this.currentData=Object.entries(this.data).map((function(t){var a=Object(f["a"])(t,2),r=a[0],e=a[1];return{age:r,value:e}}))},drawBar:function(t){var a=280,r=150,e=20,n=a-2*e,i=r-2*e,o=this.$refs.barChartContainer,s=c["j"](o).append("svg").attr("width",a).attr("height",r),u=c["d"](t,(function(t){return t.value})),l=c["g"]().domain([0,u]).range([0,n]),f=c["b"](l),p=c["f"]().domain(t.map((function(t){return t.age}))).range([0,i]).paddingInner(.2).paddingOuter(.3).round(!0),d=c["c"](p),h=s.append("g").attr("transform","translate(".concat(e,", ").concat(e,")"));h.append("g").attr("transform","translate(".concat(e,",  ").concat(i,")")).attr("class","xaxis").call(f),h.append("g").attr("transform","translate(".concat(e,",  0)")).attr("class","yaxis").call(d),h.selectAll("rect").data(t).enter().append("rect").attr("class","bar").attr("fill","#d62828").attr("x","".concat(e+1)).attr("y",(function(t){return p(t.age)})).attr("width",(function(t){return l(t.value)})).attr("height",p.bandwidth())},clearBar:function(){c["k"](".barchart svg").remove()}}}),d=p,h=(r("9ba8"),r("2877")),b=Object(h["a"])(d,u,l,!1,null,"68c90516",null),v=b.exports,g={components:{BarChart:v},props:{data:Array},data:function(){return{currentDataset:[],currentFocusSex:"",barChartData:{},populationBySex:[],barChartPosition:{x:0,y:0},showBarChart:!1}},beforeMount:function(){this.currentDataset=this.data[0]},mounted:function(){this.drawDefaultPie()},methods:{sortingPopulationBySex:function(t){for(var a in this.populationBySex=[],t){var r=Object.values(t[a]),e=this.populationBySex.length,n={sex:a,population:r.reduce((function(t,a){return t+a})),distribution:r};this.populationBySex.splice(e,0,n)}},drawPie:function(t){var a=250,r=250,e=Math.min(a,r)/2,n=c["h"](c["i"]),i=c["a"]().innerRadius(e-80).outerRadius(e-10),o=c["e"]().sort(null).value((function(t){return t.population})),s=this.$refs.chartContainer,u=c["j"](s).append("svg").attr("width",a).attr("height",r).append("g").attr("transform","translate(".concat(a/2,", ").concat(r/2,")")),l=u.selectAll(".arc").data(o(t)).enter().append("g").attr("class",(function(t){return t.data.sex.toLowerCase()}));l.append("path").attr("d",i).style("fill",(function(t){return n(t.data.sex)})),l.append("text").attr("transform",(function(t){return"translate("+i.centroid(t)+")"})).attr("text-anchor","middle").text((function(t){return t.data.sex})),l.on("mousemove",this.showBar),l.on("mouseleave",this.clearBar)},clearPie:function(){c["k"](".piechart svg").remove()},drawDefaultPie:function(){this.sortingPopulationBySex(this.currentDataset),this.drawPie(this.populationBySex)},updatePie:function(t){this.clearPie(),this.currentDataset=this.data[t],this.sortingPopulationBySex(this.currentDataset),this.drawPie(this.populationBySex)},showBar:function(t,a){this.showBarChart=!0,this.currentFocusSex!==a.data.sex&&(this.currentFocusSex=a.data.sex,this.barChartData=this.currentDataset[a.data.sex]),this.updateBarChartPosition(t.clientX,t.clientY)},clearBar:function(){this.showBarChart=!1},updateBarChartPosition:function(t,a){var r=this.$refs.chartContainer,e=r.getBoundingClientRect(),n=t-e.left,i=a-e.top;this.barChartPosition={x:n,y:i}}}},x=g,m=(r("f4a0"),Object(h["a"])(x,o,s,!1,null,"a9cc5f90",null)),y=m.exports,C={components:{PieChart:y},data:function(){return{rawData:[{Male:{"18-24":433,"25-34":1367,"35-44":100,"45-54":2650,"55-64":141,"65+":1086},Female:{"18-24":597,"25-34":1482,"35-44":1957,"45-54":2653,"55-64":1719,"65+":1601}},{Male:{"18-24":2930,"25-34":12939,"35-44":23299,"45-54":2323,"55-64":12389,"65+":945},Female:{"18-24":2930,"25-34":69990,"35-44":49e3,"45-54":40030,"55-64":30030,"65+":1304}}]}}},w=C,P=(r("7e0f"),Object(h["a"])(w,n,i,!1,null,"5eb2193f",null)),B=P.exports;e["a"].config.productionTip=!1,new e["a"]({render:function(t){return t(B)}}).$mount("#app")},"6d80":function(t,a,r){},"7e0f":function(t,a,r){"use strict";r("e1f4")},"9ba8":function(t,a,r){"use strict";r("6d80")},df96:function(t,a,r){},e1f4:function(t,a,r){},f4a0:function(t,a,r){"use strict";r("df96")}});
//# sourceMappingURL=app.8bb0e92a.js.map